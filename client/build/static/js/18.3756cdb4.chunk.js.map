{"version":3,"sources":["components/form/CustomForm.component.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/sign-in/SignIn.component.jsx","pages/log-in/LogIn.page.jsx"],"names":["CustomForm","handleChange","label","otherProps","className","onChange","value","length","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","connect","dispatch","setCurrentUser","e","history","useHistory","useState","email","password","userCredentials","setCredentials","name","handleSubmit","a","preventDefault","axios","post","process","then","res","status","data","user","document","cookie","token","toast","toastSetting","window","setTimeout","push","error","message","catch","err","console","log","response","onSubmit","type","required","styleClass","onClick","link","LogIn","content"],"mappings":"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","file":"static/js/18.3756cdb4.chunk.js","sourcesContent":["import React from \"react\";\n\nconst CustomForm = ({ handleChange, label, ...otherProps }) => {\n  return (\n    <div className=\"custom-form\">\n      <input className=\"form-input\" onChange={handleChange} {...otherProps} />\n      {label ? (\n        <label\n          className={`${\n            otherProps.value.length ? \"shrink\" : \"\"\n          } form-input-label`}\n        >\n          {label}\n        </label>\n      ) : null}\n    </div>\n  );\n};\nexport default CustomForm;\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nimport Button from '../custom-button/Button.component';\nimport CustomForm from '../form/CustomForm.component';\nimport { toastSetting } from '../../utils/helper';\nimport { setCurrentUser } from '../../redux/user/user.actions';\n\nconst SignIn = ({ setCurrentUser }) => {\n  const history = useHistory();\n  const [userCredentials, setCredentials] = useState({\n    email: '',\n    password: '',\n  });\n  const { email, password } = userCredentials;\n\n  const handleChange = (e) => {\n    const { value, name } = e.target;\n    setCredentials({ ...userCredentials, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/v1/users/login`, userCredentials)\n      .then((res) => {\n        if (res.status === 200) {\n          setCurrentUser(res.data.user);\n          // set token in cookies\n          document.cookie = `jwt=${res.data.token}`;\n          // console.log(`jwt=${res.data.token}`);\n          toast(` Hi ${res.data.user.name}! Welcome back!`, toastSetting);\n          // localStorage.setItem('user', JSON.stringify(res.data));\n          window.setTimeout(() => {\n            history.push('/');\n          }, 100);\n        } else if (res.status === 400) {\n          toast.error(res.data.message, toastSetting);\n        }\n        // console.log(res);\n      })\n      .catch((err) => {\n        console.log(err);\n        toast.error(err.response.data.message, toastSetting);\n      });\n  };\n\n  return (\n    <div className=\"section sign-in d-flex flex-column justify-content-center mx-auto\">\n      <h3 className=\"mx-auto mt-5 mb-4\">Sign In</h3>\n      <h5 className=\"py-3 mx-auto\">Sign in with your email and password</h5>\n\n      <form onSubmit={handleSubmit}>\n        <CustomForm\n          name=\"email\"\n          type=\"email\"\n          onChange={handleChange}\n          value={email}\n          label=\"Email\"\n          required\n        />\n        <CustomForm\n          name=\"password\"\n          type=\"password\"\n          onChange={handleChange}\n          value={password}\n          label=\"Password\"\n          required\n        />\n\n        <div className=\"row-cols-md-2 pt-4 d-flex\">\n          <div className=\"pr-3\">\n            <Button\n              name=\"Sign In\"\n              styleClass=\"white square fullWidth\"\n              onClick={(e) => handleSubmit(e)}\n            />\n          </div>\n          <div className=\"\">\n            <Button\n              name=\"Become A Member\"\n              link=\"/register\"\n              styleClass=\"square color fullWidth lighter\"\n            />\n          </div>\n        </div>\n      </form>\n\n      <div className=\"my-5 py-5 d-flex flex-column\">\n        <span className=\"mb-4\">\n          * Hi there! For testing purpose: I already created one account. But you can also\n          create your own new account. *\n        </span>\n        <span className=\"\">Email: test@gmail.com</span>\n        <span className=\"\">Password: 12345678</span>\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  setCurrentUser: (e) => dispatch(setCurrentUser(e)),\n});\n\nexport default connect(null, mapDispatchToProps)(SignIn);\n","import React from \"react\";\nimport MetaTags from \"react-meta-tags\";\n\nimport Layout from \"../../components/layout/Layout.component\";\nimport SignIn from \"../../components/sign-in/SignIn.component\";\n\nconst LogIn = () => {\n  return (\n    <div className=\"log-in\">\n      <MetaTags>\n        <title>Login | Shine </title>\n        <meta name=\"description\" content=\"Login Shine Online Shop\" />\n      </MetaTags>\n\n      <Layout>\n        <div className=\"container\">\n          <div className=\"row mx-3\">\n            <SignIn />\n          </div>\n        </div>\n      </Layout>\n    </div>\n  );\n};\n\nexport default LogIn;\n"],"sourceRoot":""}