{"version":3,"sources":["pages/store-locator/sub-components/Finder.component.jsx","pages/store-locator/sub-components/Map.component.jsx","pages/store-locator/StoreLocator.page.jsx","data/breadcrumbs.js","components/breadcrumbs/Breadcrumbs.component.jsx","data/stores.js"],"names":["Finder","stores","filteredStores","useState","searchTerm","setSearchTerm","searchResults","setSearchResults","useEffect","className","type","onChange","e","target","value","results","filter","i","postalCode","toLowerCase","includes","placeholder","map","store","name","address1","address2","id","mapboxgl","accessToken","Map","mapContainerRef","useRef","setFilteredStores","coordinates","forEach","push","initialPoint","container","current","style","center","zoom","addControl","NavigationControl","Marker","setLngLat","setPopup","Popup","offset","setHTML","addTo","on","lng","lngLat","lat","Math","abs","remove","button","document","getElementsByClassName","addEventListener","undefined","ref","StoreLocator","content","path","link","fullName","Breadcrumbs","productName","productPath","split","el","replace","slice","to"],"mappings":"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","file":"static/js/14.4c3b5c2b.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst Finder = ({ stores, filteredStores }) => {\n  const [searchTerm, setSearchTerm] = useState();\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleChange = (e) => {\n    if (e.target.value !== \"\") {\n      setSearchTerm(e.target.value);\n      let results = stores.filter((i) =>\n        i.postalCode.toLowerCase().includes(e.target.value.toLowerCase())\n      );\n      setSearchResults(results);\n    } else if (e.target.value === \"\") setSearchResults([]);\n  };\n\n  useEffect(() => {\n    // console.log(\"searchTerm\", typeof searchTerm);\n    // console.log(\"filteredStores\", filteredStores);\n    // console.log(\"searchResult\", searchResults);\n  }, [filteredStores, searchTerm, searchResults]);\n\n  return (\n    <div className=\"section finder\">\n      <h3 className=\"bold mb-5\">Find A Store</h3>\n      <form>\n        <input\n          type=\"text\"\n          className=\"search mb-5 px-3\"\n          onChange={handleChange}\n          placeholder=\"Please enter postal code\"\n        />\n      </form>\n\n      <div className=\"py-3\">Suggested stores nearby</div>\n      {searchResults &&\n        searchResults.map((store) => (\n          <div className=\"infoTab py-3\" key={store.id}>\n            <h5 className=\"bold title mb-3\">{store.name}</h5>\n            <h5>{store.address1}</h5>\n            <h5>{store.address2}</h5>\n            <h5>{store.postalCode}</h5>\n          </div>\n        ))}\n      {filteredStores === null\n        ? \"\"\n        : filteredStores.map((store) => (\n            <div className=\"infoTab py-3\" key={store.id}>\n              <h5 className=\"bold title mb-3\">{store.name}</h5>\n              <h5>{store.address1}</h5>\n              <h5>{store.address2}</h5>\n              <h5>{store.postalCode}</h5>\n            </div>\n          ))}\n    </div>\n  );\n};\n\nexport default Finder;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport mapboxgl from \"mapbox-gl\";\n\nimport { stores } from \"../../../data/stores\";\nimport Finder from \"./Finder.component\";\n\nmapboxgl.accessToken =\n  \"pk.eyJ1Ijoiam9obmRvZTExMjM5OTEiLCJhIjoiY2tsZzRrdDc5MjA3NTJucWVtMnJiejN1biJ9.lzkXskloQlty07ri-gqp6A\";\n\nconst Map = () => {\n  const mapContainerRef = useRef(null);\n  const [filteredStores, setFilteredStores] = useState(null);\n\n  const coordinates = [];\n  stores.forEach((i) => coordinates.push(i.coordinates));\n\n  useEffect(() => {\n    const initialPoint = {\n      lng: -84.5638875,\n      lat: 46.5318913,\n      zoom: 3,\n    };\n\n    const map = new mapboxgl.Map({\n      container: mapContainerRef.current,\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [initialPoint.lng, initialPoint.lat],\n      zoom: initialPoint.zoom,\n    });\n\n    // add navigation control (zoom buttons)\n    map.addControl(new mapboxgl.NavigationControl(), \"bottom-right\");\n\n    stores.map((i) =>\n      new mapboxgl.Marker()\n        .setLngLat(i.coordinates)\n        .setPopup(\n          new mapboxgl.Popup({ offset: 25 }).setHTML(\n            `<strong>${i.name}</strong><h6 id='aabb'>${i.address1}</h6><h6>${i.address2}</h6><h6>${i.postalCode}</h6>`\n          )\n        )\n        .addTo(map)\n    );\n\n    map.on(\"click\", function (e) {\n      const lng = e.lngLat.lng;\n      const lat = e.lngLat.lat;\n\n      let filteredStores = stores.filter(\n        (i) =>\n          Math.abs(i.coordinates[0] - lng) < 1.2 &&\n          Math.abs(i.coordinates[1] - lat) < 2\n      );\n      setFilteredStores(filteredStores);\n    });\n\n    // clean up on unmount\n    return () => map.remove();\n  }, []);\n\n  useEffect(() => {\n    var button = document.getElementsByClassName(\"mapboxgl-popup-close-button\");\n    if (button[0])\n      button[0].addEventListener(\"click\", () => {\n        setFilteredStores(null);\n      });\n    if (button[0] === undefined) setFilteredStores(null);\n  }, [filteredStores]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-lg-3 order-lg-2\">\n          <Finder filteredStores={filteredStores} stores={stores} />\n        </div>\n        <div className=\"col-lg-9\">\n          <div className=\"section map\">\n            <div className=\"map-container\" ref={mapContainerRef} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Map;\n","import React from \"react\";\nimport MetaTags from \"react-meta-tags\";\nimport Breadcrumbs from \"../../components/breadcrumbs/Breadcrumbs.component\";\n\nimport Layout from \"../../components/layout/Layout.component\";\nimport Map from \"./sub-components/Map.component\";\n\nconst StoreLocator = () => {\n  return (\n    <div className=\"store-locator\">\n      <MetaTags>\n        <title>Shine | Find A Store </title>\n        <meta name=\"description\" content=\"Shine Online Shop\" />\n      </MetaTags>\n\n      <Layout>\n        <Breadcrumbs path=\"home, stores\" />\n        <Map />\n      </Layout>\n    </div>\n  );\n};\n\nexport default StoreLocator;\n","export const link = [\n  {\n    id: 1,\n    name: \"Home\",\n    fullName: \"Home\",\n    link: \"/\",\n  },\n  {\n    id: 2,\n    name: \"Shop\",\n    fullName: \"Shop Page\",\n    link: \"/shop\",\n  },\n  {\n    id: 3,\n    name: \"Women\",\n    fullName: \"Women Collections\",\n    link: \"/shop/women\",\n  },\n  {\n    id: 4,\n    name: \"Men\",\n    fullName: \"Men Collections\",\n    link: \"/shop/men\",\n  },\n  {\n    id: 5,\n    name: \"Kids\",\n    fullName: \"Kids Collections\",\n    link: \"/shop/kids\",\n  },\n  {\n    id: 6,\n    name: \"Accessories\",\n    fullName: \"Accessories\",\n    link: \"/shop/accessories\",\n  },\n  {\n    id: 7,\n    name: \"New Arrivals\",\n    fullName: \"New Arrivals\",\n    link: \"/shop/new-arrivals\",\n  },\n  {\n    id: 8,\n    name: \"Sale\",\n    fullName: \"All Sale Collections\",\n    link: \"/shop/sale\",\n  },\n  {\n    id: 9,\n    name: \"Stores\",\n    fullName: \"Store Locator\",\n    link: \"/shop/stores\",\n  },\n];\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { link } from \"../../data/breadcrumbs\";\n\nconst Breadcrumbs = ({ path, productName, productPath }) => {\n  const results = path.split(\", \").map((i) => {\n    return link.filter(\n      (el) => el.name.toLowerCase() === i.replace(\"-\", \" \")\n    )[0];\n  });\n\n  return (\n    <div className=\"breadcrumbs py-5\">\n      <div className=\"wrapper\">\n        <h2 className=\"title uppercase bold\">\n          {productName ? productName : results.slice(-1)[0].fullName}\n        </h2>\n        <div></div>\n        <div className=\"link-group\">\n          <span className=\"link\">\n            {results.map((i) => (\n              <Link key={i.id} to={i.link}>\n                {i.name}\n              </Link>\n            ))}\n            {productPath && <Link to={productPath}>{productName}</Link>}\n          </span>\n          {/* {product && <span className=\"link\">{product}</span>} */}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Breadcrumbs;\n","export const stores = [\n  {\n    id: 1,\n    name: \"Shine Toronto\",\n    address1: \"50 Toronto Street\",\n    address2: \"Toronto, ON\",\n    postalCode: \"M3F 1Z3\",\n    coordinates: [-79.2576797, 43.7728978],\n  },\n  {\n    id: 2,\n    name: \"Shine Winnipeg\",\n    address1: \"50 Winnipeg Centre\",\n    address2: \"Winnipeg, MB\",\n    postalCode: \"R3I 2Q6\",\n    coordinates: [-97.1732823, 49.8562634],\n  },\n  {\n    id: 3,\n    name: \"Shine Regina\",\n    address1: \"50 Regina Street\",\n    address2: \"Regina, SK\",\n    postalCode: \"S4A 1G7\",\n    coordinates: [-104.7054489, 50.4586825],\n  },\n  {\n    id: 4,\n    name: \"Shine Marie\",\n    address1: \"50 Marie Street\",\n    address2: \"Sault Ste. Marie, ON\",\n    postalCode: \"P6N 6W4\",\n    coordinates: [-84.5638875, 46.5318913],\n  },\n  {\n    id: 5,\n    name: \"Shine Ottawa\",\n    address1: \"50 Ottawa Street\",\n    address2: \"Ottawa, ON\",\n    postalCode: \"K1V 7I8\",\n    coordinates: [-75.5942867, 45.4473421],\n  },\n  {\n    id: 6,\n    name: \"Shine Calgary\",\n    address1: \"50 Calgary Street\",\n    address2: \"Calgary, AB\",\n    postalCode: \"T2U 1D9\",\n    coordinates: [-114.3680166, 51.0277202],\n  },\n  {\n    id: 7,\n    name: \"Shine Montreal\",\n    address1: \"50 Montreal Street\",\n    address2: \"Montreal, QC\",\n    postalCode: \"H4J 1C5\",\n    coordinates: [-73.680954, 45.8138783],\n  },\n  {\n    id: 8,\n    name: \"Shine Dartmouth\",\n    address1: \"50 Dartmouth Street\",\n    address2: \"Dartmouth, NS\",\n    postalCode: \"B2X 2L1\",\n    coordinates: [-62.5281757, 44.917696],\n  },\n];\n"],"sourceRoot":""}