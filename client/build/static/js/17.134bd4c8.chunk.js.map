{"version":3,"sources":["data/breadcrumbs.js","components/breadcrumbs/Breadcrumbs.component.jsx","data/stores.js","pages/store-locator/sub-components/Finder.component.jsx","pages/store-locator/sub-components/Map.component.jsx","pages/store-locator/StoreLocator.page.jsx"],"names":["link","id","name","fullName","Breadcrumbs","path","productName","productPath","results","split","map","i","filter","el","toLowerCase","replace","className","slice","to","stores","address1","address2","postalCode","coordinates","Finder","filteredStores","useState","searchTerm","setSearchTerm","searchResults","setSearchResults","useEffect","type","onChange","e","target","value","includes","placeholder","store","mapboxgl","accessToken","process","workerClass","require","default","Map","mapContainerRef","useRef","setFilteredStores","forEach","push","initialPoint","container","current","style","center","zoom","addControl","NavigationControl","Marker","setLngLat","setPopup","Popup","offset","setHTML","addTo","on","lng","lngLat","lat","Math","abs","remove","button","document","getElementsByClassName","addEventListener","undefined","ref","StoreLocator","content"],"mappings":"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","file":"static/js/17.134bd4c8.chunk.js","sourcesContent":["export const link = [\n  {\n    id: 1,\n    name: 'Home',\n    fullName: 'Home',\n    link: '/',\n  },\n  {\n    id: 2,\n    name: 'Shop',\n    fullName: 'Shop Page',\n    link: '/shop',\n  },\n  {\n    id: 3,\n    name: 'Women',\n    fullName: 'Women Collections',\n    link: '/shop/women',\n  },\n  {\n    id: 4,\n    name: 'Men',\n    fullName: 'Men Collections',\n    link: '/shop/men',\n  },\n  {\n    id: 5,\n    name: 'Kids',\n    fullName: 'Kids Collections',\n    link: '/shop/kids',\n  },\n  {\n    id: 6,\n    name: 'Accessories',\n    fullName: 'Accessories',\n    link: '/shop/accessories',\n  },\n  {\n    id: 7,\n    name: 'New Arrivals',\n    fullName: 'New Arrivals',\n    link: '/shop/new-arrivals',\n  },\n  {\n    id: 8,\n    name: 'Sale',\n    fullName: 'All Sale Collections',\n    link: '/shop/sale',\n  },\n  {\n    id: 9,\n    name: 'Stores',\n    fullName: 'Store Locator',\n    link: '/stores',\n  },\n  {\n    id: 10,\n    name: 'Checkout',\n    fullName: 'Checkout',\n    link: '/checkout',\n  },\n  {\n    id: 10,\n    name: 'Favourites',\n    fullName: 'Favourites',\n    link: '/favourites',\n  },\n  {\n    id: 11,\n    name: 'Account',\n    fullName: 'My Account',\n    link: '/account',\n  },\n  {\n    id: 12,\n    name: 'Popular',\n    fullName: 'Best Sellers',\n    link: '/shop/popular',\n  },\n];\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { link } from '../../data/breadcrumbs';\n\nconst Breadcrumbs = ({ path, productName, productPath }) => {\n  const results = path.split(', ').map((i) => {\n    return link.filter((el) => el.name.toLowerCase() === i.replace('-', ' '))[0];\n  });\n  // console.log(results);\n\n  return (\n    <div className=\"breadcrumbs py-5\">\n      <div className=\"wrapper\">\n        <h2 className=\"title uppercase bold\">\n          {productName ? productName : results.slice(-1)[0].fullName}\n        </h2>\n        <div></div>\n        <div className=\"link-group\">\n          <span className=\"link\">\n            {results.map((i) => (\n              <Link key={i.id} to={i.link}>\n                {i.name}\n              </Link>\n            ))}\n            {productPath && <Link to={productPath}>{productName}</Link>}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Breadcrumbs;\n","export const stores = [\n  {\n    id: 1,\n    name: \"Shine Toronto\",\n    address1: \"50 Toronto Street\",\n    address2: \"Toronto, ON\",\n    postalCode: \"M3F 1Z3\",\n    coordinates: [-79.2576797, 43.7728978],\n  },\n  {\n    id: 2,\n    name: \"Shine Winnipeg\",\n    address1: \"50 Winnipeg Centre\",\n    address2: \"Winnipeg, MB\",\n    postalCode: \"R3I 2Q6\",\n    coordinates: [-97.1732823, 49.8562634],\n  },\n  {\n    id: 3,\n    name: \"Shine Regina\",\n    address1: \"50 Regina Street\",\n    address2: \"Regina, SK\",\n    postalCode: \"S4A 1G7\",\n    coordinates: [-104.7054489, 50.4586825],\n  },\n  {\n    id: 4,\n    name: \"Shine Marie\",\n    address1: \"50 Marie Street\",\n    address2: \"Sault Ste. Marie, ON\",\n    postalCode: \"P6N 6W4\",\n    coordinates: [-84.5638875, 46.5318913],\n  },\n  {\n    id: 5,\n    name: \"Shine Ottawa\",\n    address1: \"50 Ottawa Street\",\n    address2: \"Ottawa, ON\",\n    postalCode: \"K1V 7I8\",\n    coordinates: [-75.5942867, 45.4473421],\n  },\n  {\n    id: 6,\n    name: \"Shine Calgary\",\n    address1: \"50 Calgary Street\",\n    address2: \"Calgary, AB\",\n    postalCode: \"T2U 1D9\",\n    coordinates: [-114.3680166, 51.0277202],\n  },\n  {\n    id: 7,\n    name: \"Shine Montreal\",\n    address1: \"50 Montreal Street\",\n    address2: \"Montreal, QC\",\n    postalCode: \"H4J 1C5\",\n    coordinates: [-73.680954, 45.8138783],\n  },\n  {\n    id: 8,\n    name: \"Shine Dartmouth\",\n    address1: \"50 Dartmouth Street\",\n    address2: \"Dartmouth, NS\",\n    postalCode: \"B2X 2L1\",\n    coordinates: [-62.5281757, 44.917696],\n  },\n];\n","import React, { useState, useEffect } from \"react\";\n\nconst Finder = ({ stores, filteredStores }) => {\n  const [searchTerm, setSearchTerm] = useState();\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleChange = (e) => {\n    if (e.target.value !== \"\") {\n      setSearchTerm(e.target.value);\n      let results = stores.filter((i) =>\n        i.postalCode.toLowerCase().includes(e.target.value.toLowerCase())\n      );\n      setSearchResults(results);\n    } else if (e.target.value === \"\") setSearchResults([]);\n  };\n\n  useEffect(() => {\n    // console.log(\"searchTerm\", typeof searchTerm);\n    // console.log(\"filteredStores\", filteredStores);\n    // console.log(\"searchResult\", searchResults);\n  }, [filteredStores, searchTerm, searchResults]);\n\n  return (\n    <div className=\"section finder\">\n      <h3 className=\"bold mb-5\">Find A Store</h3>\n      <form>\n        <input\n          type=\"text\"\n          className=\"search mb-5 px-3\"\n          onChange={handleChange}\n          placeholder=\"Please enter postal code\"\n        />\n      </form>\n\n      <div className=\"py-3\">Suggested stores nearby</div>\n      {searchResults &&\n        searchResults.map((store) => (\n          <div className=\"infoTab py-3\" key={store.id}>\n            <h5 className=\"bold title mb-3\">{store.name}</h5>\n            <h5>{store.address1}</h5>\n            <h5>{store.address2}</h5>\n            <h5>{store.postalCode}</h5>\n          </div>\n        ))}\n      {filteredStores === null\n        ? \"\"\n        : filteredStores.map((store) => (\n            <div className=\"infoTab py-3\" key={store.id}>\n              <h5 className=\"bold title mb-3\">{store.name}</h5>\n              <h5>{store.address1}</h5>\n              <h5>{store.address2}</h5>\n              <h5>{store.postalCode}</h5>\n            </div>\n          ))}\n    </div>\n  );\n};\n\nexport default Finder;\n","import React, { useState, useRef, useEffect } from 'react';\nimport mapboxgl from 'mapbox-gl';\n\nimport { stores } from '../../../data/stores';\nimport Finder from './Finder.component';\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_KEY;\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require('worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker').default;\n\nconst Map = () => {\n  const mapContainerRef = useRef(null);\n  const [filteredStores, setFilteredStores] = useState(null);\n\n  const coordinates = [];\n  stores.forEach((i) => coordinates.push(i.coordinates));\n\n  useEffect(() => {\n    const initialPoint = {\n      lng: -84.5638875,\n      lat: 46.5318913,\n      zoom: 3,\n    };\n\n    const map = new mapboxgl.Map({\n      container: mapContainerRef.current,\n      // style: 'mapbox://styles/mapbox/streets-v11',\n      style: 'mapbox://styles/mapbox/light-v10',\n      center: [initialPoint.lng, initialPoint.lat],\n      zoom: initialPoint.zoom,\n    });\n\n    // add navigation control (zoom buttons)\n    map.addControl(new mapboxgl.NavigationControl(), 'bottom-right');\n\n    stores.map((i) =>\n      new mapboxgl.Marker()\n        .setLngLat(i.coordinates)\n        .setPopup(\n          new mapboxgl.Popup({ offset: 25 }).setHTML(\n            `<strong>${i.name}</strong><h6 id='aabb'>${i.address1}</h6><h6>${i.address2}</h6><h6>${i.postalCode}</h6>`,\n          ),\n        )\n        .addTo(map),\n    );\n\n    map.on('click', function (e) {\n      const lng = e.lngLat.lng;\n      const lat = e.lngLat.lat;\n\n      let filteredStores = stores.filter(\n        (i) =>\n          Math.abs(i.coordinates[0] - lng) < 1.2 && Math.abs(i.coordinates[1] - lat) < 2,\n      );\n      setFilteredStores(filteredStores);\n    });\n\n    // clean up on unmount\n    return () => map.remove();\n  }, []);\n\n  useEffect(() => {\n    var button = document.getElementsByClassName('mapboxgl-popup-close-button');\n    if (button[0])\n      button[0].addEventListener('click', () => {\n        setFilteredStores(null);\n      });\n    if (button[0] === undefined) setFilteredStores(null);\n  }, [filteredStores]);\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row px-5\">\n        <div className=\"col-lg-3 order-lg-2\">\n          <Finder filteredStores={filteredStores} stores={stores} />\n        </div>\n        <div className=\"col-lg-9\">\n          <div className=\"section map\">\n            <div className=\"map-container\" ref={mapContainerRef} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Map;\n","import React from \"react\";\nimport MetaTags from \"react-meta-tags\";\nimport Breadcrumbs from \"../../components/breadcrumbs/Breadcrumbs.component\";\n\nimport Layout from \"../../components/layout/Layout.component\";\nimport Map from \"./sub-components/Map.component\";\n\nconst StoreLocator = () => {\n  return (\n    <div className=\"store-locator\">\n      <MetaTags>\n        <title>Shine | Find A Store </title>\n        <meta name=\"description\" content=\"Shine Online Shop\" />\n      </MetaTags>\n\n      <Layout>\n        <Breadcrumbs path=\"home, stores\" />\n        <Map />\n      </Layout>\n    </div>\n  );\n};\n\nexport default StoreLocator;\n"],"sourceRoot":""}