{"version":3,"sources":["components/form/CustomForm.component.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/sign-up/SignUp.component.jsx","pages/register/Register.page.jsx"],"names":["CustomForm","handleChange","label","otherProps","className","onChange","value","length","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","connect","dispatch","setCurrentUser","e","useState","name","email","password","passwordConfirm","userCredentials","setCredentials","history","useHistory","handleSubmit","a","console","log","preventDefault","test","toast","error","toastSetting","validator","isEmail","axios","get","process","then","res","data","post","user","success","window","setTimeout","push","catch","onSubmit","type","required","onClick","styleClass","Register","content"],"mappings":"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","file":"static/js/19.b46abcc6.chunk.js","sourcesContent":["import React from \"react\";\n\nconst CustomForm = ({ handleChange, label, ...otherProps }) => {\n  return (\n    <div className=\"custom-form\">\n      <input className=\"form-input\" onChange={handleChange} {...otherProps} />\n      {label ? (\n        <label\n          className={`${\n            otherProps.value.length ? \"shrink\" : \"\"\n          } form-input-label`}\n        >\n          {label}\n        </label>\n      ) : null}\n    </div>\n  );\n};\nexport default CustomForm;\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport validator from 'validator';\n\nimport Button from '../custom-button/Button.component';\nimport CustomForm from '../form/CustomForm.component';\nimport { toastSetting } from '../../utils/helper';\nimport { setCurrentUser } from '../../redux/user/user.actions';\n\nconst SignUp = ({ setCurrentUser }) => {\n  const [userCredentials, setCredentials] = useState({\n    name: '',\n    email: '',\n    password: '',\n    passwordConfirm: '',\n  });\n  const { name, email, password, passwordConfirm } = userCredentials;\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setCredentials({ ...userCredentials, [name]: value }); // dynamic setState\n  };\n\n  const handleSubmit = async (e) => {\n    console.log(userCredentials);\n    e.preventDefault();\n    if (!/^[a-zA-Z0-9 _]*$/.test(name) || name.length === 0) {\n      toast.error(\n        'Please provide a display name, with no special characters',\n        toastSetting,\n      );\n      return;\n    }\n    if (!validator.isEmail(email)) {\n      toast.error('Please provide a valid email', toastSetting);\n      return;\n    }\n    if (password !== passwordConfirm) {\n      toast.error(\"Passwords don't match, please try again\", toastSetting);\n      return;\n    }\n    if (password.length < 8 || passwordConfirm.length < 8) {\n      toast.error('Password: Be 8 or more characters long', toastSetting);\n      return;\n    }\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/v1/users/checkemail/${email}`)\n      .then((res) => {\n        if (res.data.data !== 0) {\n          console.log(res);\n          toast.error(\n            'Email already exists, please choose a different email.',\n            toastSetting,\n          );\n          return;\n        }\n        return axios\n          .post(`${process.env.REACT_APP_API_URL}/api/v1/users/signup`, userCredentials)\n          .then((res) => {\n            setCurrentUser(res.data.user);\n            setCredentials({ name: '', email: '', password: '', passwordConfirm: '' });\n            toast.success(\n              'Account successfully created. Thank you for your registration!',\n              toastSetting,\n            );\n            // localStorage.setItem('user', JSON.stringify(res.data.user));\n            window.setTimeout(() => {\n              history.push('/');\n            }, 2000);\n          });\n      })\n      .catch((e) => {\n        console.log(e);\n        toast.error('Error happened!', toastSetting);\n      });\n  };\n\n  return (\n    <div className=\"section sign-in d-flex flex-column justify-content-center mx-auto\">\n      <h3 className=\"mx-auto mt-5 mb-4\">Become a member</h3>\n      <h5 className=\"py-3 text-center\">\n        Become a member - Get a gift on your birthday, exlusive member offers, and new\n        product sneak peeks\n      </h5>\n\n      <form onSubmit={handleSubmit}>\n        <CustomForm\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          onChange={handleChange}\n          label=\"Display Name\"\n          required\n        />\n        <CustomForm\n          type=\"email\"\n          name=\"email\"\n          value={email}\n          onChange={handleChange}\n          label=\"Email\"\n          required\n        />\n        <CustomForm\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          onChange={handleChange}\n          label=\"Password\"\n          required\n        />\n        <CustomForm\n          type=\"password\"\n          name=\"passwordConfirm\"\n          value={passwordConfirm}\n          onChange={handleChange}\n          label=\"Confirm Password\"\n          required\n        />\n\n        <div className=\"row-cols-md-2 pt-4 d-flex\">\n          <div className=\" mx-auto\">\n            <Button\n              onClick={handleSubmit}\n              name=\"Become A Member\"\n              styleClass=\"square color fullWidth lighter\"\n            />\n          </div>\n        </div>\n      </form>\n\n      <div className=\"my-5 py-5 d-flex flex-column\">\n        <span className=\"mb-4\">\n          * Hi there! For testing purpose: I already created one account. But you can also\n          create your own new account. *\n        </span>\n        <span className=\"\">Email: test@gmail.com</span>\n        <span className=\"\">Password: 12345678</span>\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  setCurrentUser: (e) => dispatch(setCurrentUser(e)),\n});\n\nexport default connect(null, mapDispatchToProps)(SignUp);\n","import React from \"react\";\nimport MetaTags from \"react-meta-tags\";\n\nimport Layout from \"../../components/layout/Layout.component\";\nimport SignUp from \"../../components/sign-up/SignUp.component\";\n\nconst Register = () => {\n  return (\n    <div className=\"log-in\">\n      <MetaTags>\n        <title>Register | Shine </title>\n        <meta name=\"description\" content=\"Register Shine Online Shop\" />\n      </MetaTags>\n\n      <Layout>\n        <div className=\"container\">\n          <div className=\"row mx-3\">\n            <SignUp />\n          </div>\n        </div>\n      </Layout>\n    </div>\n  );\n};\n\nexport default Register;\n"],"sourceRoot":""}